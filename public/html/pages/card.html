<link rel="stylesheet" href="../../css/flashcard.css">
<div>

<div class="flip-container">
    <div class="flipper" ng-click="flipCard()" ng-class="{'flipToFront':isCardRevealed, 'flipToBack':!isCardRevealed}">
        <div class="back" ng-class="{'face-hidden':hideBackFace}">
            <h1 ng-if="currentCard.type=='text' && currentCard.text && !isCardRevealed">{{currentCard.text | uppercase}}</h1>
            <img ng-if="currentCard.url && currentCard.type=='image' && !isCardRevealed" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico" />
            <audio controls loop autoplay="autoplay" ng-if=" currentCard.type=='audio' && currentCard.url && !isCardRevealed" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico"/></audio> 
            <video controls loop autoplay="autoplay" ng-if="currentCard.type=='video' && currentCard.url && !isCardRevealed" width="640" height="360" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico" frameborder="0" allowfullscreen></video> 
        </div>
        <div class="front" ng-class="{'face-hidden':!hideBackFace}">
            <h1 ng-if="currentCard.type=='text' && currentCard.text && isCardRevealed">{{currentCard.text | uppercase}}</h1>
            <img ng-if="currentCard.url && currentCard.type=='image' && isCardRevealed" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico" alt="currentCard.imageAlt" />
            <audio controls loop autoplay="autoplay" ng-if=" currentCard.type=='audio' && currentCard.url && isCardRevealed" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico" /></audio> 
            <video controls loop autoplay="autoplay" ng-if="currentCard.type=='video' && currentCard.url && isCardRevealed" width="640" height="360" ng-src="{{currentCard.url}}" err-src="http://google.com/favicon.ico" frameborder="0" allowfullscreen></video> 
        </div>
    </div>
</div>
    <div class="addmenucontext">
        <ul class="nav navbar-nav">
            <li><a style="color:black;" ng-click = "toggleMenu(false, true, true, true)" ><i class ="fa fa-plus-square-o"></i> Add</a></li>
            <li><a style="color:black;" ng-click = "toggleMenu(true, false, true, true)" ><i class = "fa fa-minus-square-o"></i> Delete</a></li>
            <li><a style="color:black;" ng-click = "toggleMenu(true, true, false, true)" ><i class = "fa fa-pencil-square-o"></i> Edit</a></li>
            <!--<li><a style="color:black;" ng-click = "toggleMenu(true, true, true, false)" ><i class = "fa fa-check-square-o"></i> Modify Order</a></li>-->
            <li><a style="color:black;" ng-click = "addNewCard()"><i class = "fa fa-floppy-o"></i> Save </a></li>
        </ul>
    </div>
<div ng-hide="addmenu">

    <h2>Add New Side</h2>
    <div class="addselectmenu">
        <button ng-click="toggleAddMenu(false,true)" class="btn btn-default"><i class = "fa fa-file-text-o"></i> Add Text</button> OR
        <button ng-click="toggleAddMenu(true,false)" class="btn btn-default"><i class = "fa fa-file-image-o"></i> Add Media</button>
    </div>
    <!-- User add new side to card-->
    <!-- DEV NOTES, ng-model binds variable, ng-'action' calls angular function -->
    <div ng-hide="textmenu">
        <div class="textbox">
            <textarea rows="10" cols="75" ng-model="field"> </textarea>
        </div>
        <button style="margin-top:0.75em;" ng-click="newSide('text','', field)" class="btn btn-default">Submit Text</button>
    </div>
    <div ng-hide="videomenu">
        <div><h4>Upload File (Image/Video/Audio)</h4></div>
        <button ngf-select="uploadFiles($file,$invalidFiles)" class="btn btn-default">Upload File</button>
    </div>
</div>

<div ng-hide="editmenu">
    <h2>Edit Side</h2>
    <div ng-hide="textmenu">
        <div class="textbox">
            <textarea rows="10" cols="75" ng-model="textfield"> </textarea>
        </div>
        <button style="margin-top:0.75em;" ng-click="updateText(textfield)" class="btn btn-default">Submit Text</button>
    </div>
    <div ng-hide="videomenu">
        <div><h4>Upload File (Image/Video/Audio)</h4></div>
        <button ngf-select="updateVideo($file,$invalidFiles)" class="btn btn-default">Upload File</button>
    </div>
</div>


</div>
